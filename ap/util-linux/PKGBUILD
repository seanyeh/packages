pkgname=util-linux
pkgver=2.25.1
pkgrel=1
pkgdesc="A broad collection of Linux system utilities."
arch=("x86_64")
url=""
license=(GPLv2)

source=(https://www.kernel.org/pub/linux/utils/util-linux/v2.25/util-linux-${pkgver}.tar.xz)
sha256sums=(4701305ae22790c3a92ce48e50794fa05b7ee01f4227f419a171c100d08986e8)

build() {
	cd "${srcdir}/${pkgname}-${pkgver}"
	./configure --prefix=/usr --libdir=/usr/lib64 --sysconfdir=/etc \
				--localstatedir=/var --mandir=/usr/man --infodir=/usr/info \
				--docdir=/usr/doc/util-linux-${pkgver} --sbindir=/usr/bin \
				--bindir=/usr/bin --disable-static --disable-uuidd \
				--disable-login-utils
	make
}

package() {
	cd "${srcdir}/${pkgname}-${pkgver}"
	make install DESTDIR="${pkgdir}"

	# Fix the binary paths
	mv "${pkgdir}"/usr/sbin/* "${pkgdir}"/usr/bin
	rmdir "${pkgdir}"/usr/sbin
}
